To compete with successful and commonly used instant messaging platforms, your service has to offer great functionality.
So first, let’s define the core features of a messaging app.
\begin{itemize}
    \item Registration
    \item Authentication
    \item Adding contacts
    \item Sending messages and media to individuals
    \item Creating groups
    \item Sending messages and media to groups user stories
    \item Viewing message history
    \item Profile settings
\end{itemize}
Note that Authentication [\cite{burrows1989logic}] means confirming your own identity,
whereas Authorization [\cite{fagin1978authorization}] means being allowed access to the particular part of the system.

\subsection{Registration user stories}\label{subsec:registration}
\begin{itemize}
    \item As an unregistered user, I want to tap “Register” so that I see the registration form and register myself.
    \item As an unregistered user, I want to use my phone number to register so that my account is tied to my phone number.
    \item As an unregistered user, I want to use my e-mail address to register so that my account is tied to my e-mail address.
    \item As an unregistered user, I want to add a display name during registration so that other users can find my account not only by my phone number or e-mail address.
    \item As an unregistered user, I want to choose how to receive the registration confirmation via SMS or e-mail so that notification is sent to me via SMS or e-email.
    \item As an unregistered user, I want to receive the registration confirmation via SMS or Email so that I can activate my account.
\end{itemize}

\subsection{Authentication user stories}\label{subsec:authentication-user-stories}
\begin{itemize}
    \item \textcolor{red}{As an un-authenticated user, I want to authenticate myself using both combinations email-password and phone-password so that I use the specified form with two inputs.}
    \item \textcolor{red}{As a registered user, I want to restore my password if I forgot it so that I use specified form and restore my password.}
    \item As an authenticated user, I want my session on each device to least 7 days so that after 7 days of inactivity device will be logged out automatically.
\end{itemize}

\subsection{Adding contacts user stories}\label{subsec:adding-contacts}
\begin{itemize}
    \item As an authorized user, I want to add other user to my contact list so that I click "Add contact" button on user profile and add him to my contact list.
    \item \textcolor{red}{As an authorized user, I want to search users so that I write user display name or phone number of e-mail address to specified input, click "Search user" button and see results.}
    \item As an authorized user, I want user search input to accept empty or whitespace queries so that all users displayed as search result.
    \item As an authorized user, I want to remove the user from my contact list so that I click "Remove contact" button on user profile and remove him from my contact list.
    \item As an authorized user, I want to navigate to private chat with the user from my contact list so that I click "Message" button at user profile and get navigated to the private chat with him.
\end{itemize}

\subsection{Sending messages and media to individuals user stories}
\label{subsec:sending-messages-and-media-feature-user-stories}
\begin{itemize}
    \item As an authorized user, I want to send a text message so that another user sees my message.
    \item \textcolor{red}{As an authorized user, I want to send a document so that another user sees the document I sent.}
    \item \textcolor{red}{As an authorized user, I want to tap "Edit" on my message so that I edit the message sent by myself.}
    \item As an authorized user, I want to tap "Delete" on my message so that I delete the message sent by myself.
\end{itemize}

\subsection{Creating groups user stories}\label{subsec:creating-groups-feature-user-stories}
\begin{itemize}
    \item As a registered user, I want to tap "Create group" so that I create a new group of the one of the types: private channel, public channel, readonly channel.
    \item As a registered user, I want to join public groups so that I click button "Join group" to join the group.
    \item \textcolor{red}{As a registered user, I want to start secret chats with users from my contact list so that our messages encrypted for anyone including system administrators.}
    \item As a registered user, I want my secret chats to be device-specific so that I can see a secret chat only on the device that I used to start this chat.
\end{itemize}

\subsection{Sending messages and media to groups user stories}
\label{subsec:sending-messages-and-media-to-groups}
\begin{itemize}
    \item As an authorized user, I want to send a text message so that all members of the group see the message I sent.
    \item \textcolor{red}{As an authorized user, I want to send a document so that all members of the group see the document I sent.}
    \item \textcolor{red}{As an authorized user, I want to tap "Edit" on my message, so that I edit the message sent by myself.}
    \item As an authorized user, I want to tap "Delete" on my message, so that I delete the message sent by myself.
    \item As an authorized user, I want to search public groups by display name so that I enter display name to specified field, click button "Search chats" and see results.
\end{itemize}

\subsection{Viewing message history user stories}\label{subsec:viewing-message-history-feature-user-stories}
\begin{itemize}
    \item As an authorized user, I want to view a message history of particular chat or group so that I see a list of my active chats on the UI\@.
    \item \textcolor{red}{As an authorized user, I want to search messages in particular chat so that I see the results in messages window of the chat.}
\end{itemize}

\subsection{Profile settings user stories}\label{subsec:profile-settings-user-stories}
\begin{itemize}
    \item As an authorized user, I want to change my personal information so that I use a specified form to change it.
    \item \textcolor{red}{As an authorized user, I want to change my profile picture so that all other users will see updated one.}
    \item As an authorized user, I want reset password, so that my password will change.
    \item As an authorized user, I want to tap "Logout" button so that current device will be logged out from the system.
    \item As an authorized user, I want to tap "Logout all" button so that all my authorized devices will be logged out from the system.
\end{itemize}
